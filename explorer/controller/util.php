<?php define('í', 'Áå');øõ¹“à„ØâŒÉ»Äã¸éÍ¸ºœ°­ó²ù¬Û”…£‰ş™—¸­ø½‡ÜÉĞ˜µĞøƒŠ³ ºà”íÛÁÉïÇìøÆ‡‘€µ‹½¼èˆ–ÂÒÆÜÃæ—¥û†¾Ïğ†½êÍÅüÎú‰Œ¸ñ”Åò«‰Æ»Ï£ş·»¥³Á¦ò‘˜ùÏ„Ç•—‘‹£Éü¸ğä™· èÛ;$GLOBALS[í] = explode('|*|&|%', 'KOD_GROUP_PATH|*|&|%{group_path}|*|&|%KOD_GROUP_SHARE|*|&|%{group_share}|*|&|%KOD_USER_SHARE|*|&|%{user_share}|*|&|%KOD_USER_RECYCLE|*|&|%{user_recycle}|*|&|%KOD_USER_FAV|*|&|%{user_fav}|*|&|%KOD_GROUP_ROOT_SELF|*|&|%{tree_group_self}|*|&|%KOD_GROUP_ROOT_ALL|*|&|%{tree_group_all}|*|&|%is_root|*|&|%\\|*|&|%/|*|&|%../|*|&|%/\\.+\\/+/|*|&|%/\\/+/|*|&|%path_type|*|&|%|*|&|%path_pre|*|&|%path_id|*|&|%path_id_user_share|*|&|%:|*|&|%share/|*|&|%kod_user|*|&|%user_id|*|&|%config|*|&|%path_role_group_default|*|&|%1|*|&|%actions|*|&|%path|*|&|%role|*|&|%type|*|&|%file|*|&|%filelist|*|&|%folderlist|*|&|%share|*|&|%//|*|&|%L|*|&|%group_not_exist|*|&|%path_from_auth_check|*|&|%no_permission_group|*|&|%path_role_group|*|&|%no_permission_action|*|&|%path_role_define|*|&|%<|*|&|%>|*|&|%auth|*|&|%ext_not_allow|*|&|%||*|&|%.|*|&|%.DS_Store|*|&|%iconv|*|&|%system_charset|*|&|%utf-8|*|&|%zh-CN|*|&|%zh-TW|*|&|%gbk|*|&|%.txt|*|&|%unzip_file_charset_get|*|&|%filename|*|&|%gbk|*|&|%mb_convert_encoding|*|&|%mb_detect_encoding|*|&|%check_charset|*|&|%unicode|*|&|%cp936|*|&|%euc-cn|*|&|%ascii|*|&|%iso-8859-1|*|&|%settings|*|&|%updload_chunk_size|*|&|%in|*|&|%user|*|&|%size|*|&|%lib/core/|*|&|%Application.class.php|*|&|%default_socket_timeout|*|&|%http|*|&|%method|*|&|%GET|*|&|%timeout|*|&|%<li>|*|&|%php_env_error_iconv|*|&|%</li>|*|&|%mb_convert_encoding|*|&|%php_env_error_mb_string|*|&|%5.0|*|&|%>=|*|&|%php_env_error_version|*|&|%file_get_contents|*|&|%php_env_error_file|*|&|%php_env_error_list_dir|*|&|%system|*|&|%User|*|&|%Group|*|&|%session|*|&|%/	|*|&|%php_env_error_path|*|&|%imagecreatefromjpeg|*|&|%imagecreatefromgif|*|&|%imagecreatefrompng|*|&|%imagecolorallocate|*|&|%php_env_error_gd|*|&|%.cache_data|*|&|%data ç›®å½•ä¸å­˜åœ¨!

(æ£€æŸ¥ DATA_PATH);|*|&|%config/version.php|*|&|%\'KOD_VERSION\',\'(.*)\'|*|&|%æ‚¨æœåŠ¡å™¨å¼€å¯äº†phpç¼“å­˜,æ–‡ä»¶æ›´æ–°å°šæœªç”Ÿæ•ˆ;
			è¯·å…³é—­ç¼“å­˜ï¼Œæˆ–ç¨å1åˆ†é’Ÿåˆ·æ–°é¡µé¢å†è¯•ï¼
			<a href=\'http://www.tuicool.com/articles/QVjeu2i\' target=\'_blank\'>äº†è§£è¯¦æƒ…</a>|*|&|%[Error Code:1002] ç›®å½•æƒé™é”™è¯¯ï¼è¯·è®¾ç½®ç¨‹åºç›®å½•åŠæ‰€æœ‰å­ç›®å½•ä¸ºè¯»å†™çŠ¶æ€ï¼Œ
				linux è¿è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼š
				<pre>chmod -R 777 |*|&|%</pre>|*|&|%index.html|*|&|%system/apps.php|*|&|%update.php|*|&|%access_token|*|&|%SaeStorage|*|&|%SAE_APPNAME|*|&|%HTTP_APPNAME|*|&|%setting_system|*|&|%system_password|*|&|%kodExplorer_|*|&|%access_token error!|*|&|%need_check_code|*|&|%en|*|&|%setting_all|*|&|%language|*|&|%zh|*|&|%zh-tw|*|&|%HTTP_ACCEPT_LANGUAGE|*|&|%en|*|&|%_|*|&|%-|*|&|%~([-a-z]+)(;q=([0-9.]+))?~|*|&|%~-.*~|*|&|%kod_user_language|*|&|%..|*|&|%zh_CN|*|&|%zh_TW|*|&|%/main.php|*|&|%LANGUAGE_TYPE|*|&|%*|*|&|%?|*|&|%"|*|&|%system_setting.php|*|&|%setting_system_default|*|&|%app|*|&|%first_in|*|&|%index|*|&|%system_role_group.php|*|&|%kod_name|*|&|%system_name|*|&|%kod_name_desc|*|&|%system_desc|*|&|%powerby|*|&|%kod_power_by|*|&|%config/setting_user.php|*|&|%STATIC_PATH|*|&|%static_path|*|&|%KOD_SESSION_SSO|*|&|%kod_token|*|&|%location:./index.php?user/login|*|&|%+|*|&|%=|*|&|%_a|*|&|%_b|*|&|%_c');—ÆÔØìÈê†ÂºŠ‹ĞŒ¢â—Æ­•ş½‡äÖ¿…À›¦á²ì;
 define($GLOBALS{í}[0],$GLOBALS{í}{0x001});define($GLOBALS{í}[0x0002],$GLOBALS{í}{0x00003});define($GLOBALS{í}[0x000004],$GLOBALS{í}{0x05});define($GLOBALS{í}[0x006],$GLOBALS{í}{0x0007});define($GLOBALS{í}[0x00008],$GLOBALS{í}{0x000009});define($GLOBALS{í}[0x0a],$GLOBALS{í}{0x00b});define($GLOBALS{í}[0x000c],$GLOBALS{í}{0x0000d});function _DIR_CLEAR($¥Ğ¿¿){$¢¨‡ñ=&$GLOBALS{í};if(isset($GLOBALS[$¢¨‡ñ[0x00000e]])&& $GLOBALS[$¢¨‡ñ[0x00000e]]){return $¥Ğ¿¿;}$¥Ğ¿¿=str_replace($¢¨‡ñ{0x0f},$¢¨‡ñ[0x0010],trim($¥Ğ¿¿));if(strstr($¥Ğ¿¿,$¢¨‡ñ{0x00011})){$¥Ğ¿¿=preg_replace($¢¨‡ñ[0x000012],$¢¨‡ñ[0x0010],$¥Ğ¿¿);}$¥Ğ¿¿=preg_replace($¢¨‡ñ{0x0000013},$¢¨‡ñ[0x0010],$¥Ğ¿¿);return $¥Ğ¿¿;Í¯°­ÂÎØ;}function _DIR($Ã³­){$ü=&$GLOBALS{í};$¢Ö†¹ı=_DIR_CLEAR($Ã³­);$¢Ö†¹ı=iconv_system($¢Ö†¹ı);$Ô=array(KOD_GROUP_PATH,KOD_GROUP_SHARE,KOD_GROUP_ROOT_SELF,KOD_GROUP_ROOT_ALL,KOD_USER_SHARE,KOD_USER_RECYCLE,KOD_USER_FAV,);ûÓ¤­æûÚÄŸ„Ì‘;$GLOBALS[$ü[0x014]]=$ü{0x0015};úşçÑ…¡ÏÄ¶óÔ‹;$GLOBALS[$ü[0x00016]]=HOME;Ô;$GLOBALS[$ü{0x000017}]=$ü{0x0015};unset($GLOBALS[$ü[0x0000018]]);foreach($Ô as $²){if(substr($¢Ö†¹ı,0,strlen($²))==$²){$GLOBALS[$ü[0x014]]=$²;$€=explode($ü[0x0010],$¢Ö†¹ı);$Ğ=$€[0];unset($€[0]);$’=implode($ü[0x0010],$€);$Ş®=explode($ü{0x019},$Ğ);if(count($Ş®)>0x001){$GLOBALS[$ü{0x000017}]=trim($Ş®[0x001]);}else{$GLOBALS[$ü{0x000017}]=$ü{0x0015};}break;}}switch($GLOBALS[$ü[0x014]]){case $ü{0x0015}:$¢Ö†¹ı=iconv_system(HOME).$¢Ö†¹ı;Ş¬²û÷·ğÍÃÉ©ÃŸÚè£ô£œÅÂ®ãô;break;case KOD_USER_RECYCLE:$GLOBALS[$ü[0x00016]]=trim(USER_RECYCLE,$ü[0x0010]);Ê”óÌ‘ë„‚¹ÇÌãŒë¾ôÌé³è°ö—”ë¥¦×æ£¢Úï³Çôµ½‚;$GLOBALS[$ü{0x000017}]=$ü{0x0015};¤¾şñ©²ÚÙ©òí•™”í§û‘É×‚üŸö² ´µ†ı¥«½¤æ×øÀì®—†Â…­¿—÷—™ô¶;return iconv_system(USER_RECYCLE).$ü[0x0010].str_replace(KOD_USER_RECYCLE,$ü{0x0015},$¢Ö†¹ı);case KOD_USER_FAV:$GLOBALS[$ü[0x00016]]=trim(KOD_USER_FAV,$ü[0x0010]);$GLOBALS[$ü{0x000017}]=$ü{0x0015};ŞÃ„‹¨¨ç¢¨ƒ×š–› ÄÚ·½ñĞ²©áÚ‚§ºàê¾ëëç•Ôè¸ıëÈ;return KOD_USER_FAV;ğ§¥Ìßâ¿±•è“ğ;case KOD_GROUP_ROOT_SELF:$GLOBALS[$ü[0x00016]]=trim(KOD_GROUP_ROOT_SELF,$ü[0x0010]);Ì¥ê¹’ÒÎæ»ˆå¨Ğ»¯±­×;$GLOBALS[$ü{0x000017}]=$ü{0x0015};¹ºéÏ£üÁ·íÛİØ•ğ«äØçì¾‘¾úÁğ©šÇ¤Ò‚Ş¼Òƒ¹•’ñƒîĞ;return KOD_GROUP_ROOT_SELF;ˆêšğ×Ùƒ;case KOD_GROUP_ROOT_ALL:$GLOBALS[$ü[0x00016]]=trim(KOD_GROUP_ROOT_ALL,$ü[0x0010]);$GLOBALS[$ü{0x000017}]=$ü{0x0015};ıßĞ¢²;return KOD_GROUP_ROOT_ALL;¦…©»˜›¾‡ë›;case KOD_GROUP_PATH:$®=system_group::get_info($GLOBALS[$ü{0x000017}]);if(!$GLOBALS[$ü{0x000017}]|| !$®)return !1;owner_group_check($GLOBALS[$ü{0x000017}]);Ğ£™ç÷Şğö¾Áš;$GLOBALS[$ü[0x00016]]=group_home_path($®);à¼¡Š÷¹;$¢Ö†¹ı=iconv_system($GLOBALS[$ü[0x00016]]).$’;break;case KOD_GROUP_SHARE:$®=system_group::get_info($GLOBALS[$ü{0x000017}]);ÎÁøÆ‹—®©€§‰ğÈ³;if(!$GLOBALS[$ü{0x000017}]|| !$®)return !1;owner_group_check($GLOBALS[$ü{0x000017}]);$GLOBALS[$ü[0x00016]]=group_home_path($®).$ü[0x001a];$¢Ö†¹ı=iconv_system($GLOBALS[$ü[0x00016]]).$’;†ö¦ş±Ì·óßŒÂ¢…Š®•;break;case KOD_USER_SHARE:$®=system_member::get_info($GLOBALS[$ü{0x000017}]);…È“¤‘ÇİÌ’³ç™«˜;if(!$GLOBALS[$ü{0x000017}]|| !$®)return !1;if($GLOBALS[$ü{0x000017}]!=$_SESSION[$ü{0x0001b}][$ü[0x00001c]]){$ÛĞĞ¼=$GLOBALS[$ü{0x000001d}][$ü[0x01e]][$ü{0x001f}][$ü[0x00020]];path_role_check($ÛĞĞ¼);}$GLOBALS[$ü[0x00016]]=$ü{0x0015};$GLOBALS[$ü[0x0000018]]=$Ã³­;âøÀë¹âñ‚ö–”¾ôáÑ¨;if($’==$ü{0x0015}){return $¢Ö†¹ı;}else{$êÓØ=explode($ü[0x0010],$’);$êÓØ[0]=iconv_app($êÓØ[0]);$±=system_member::user_share_get($GLOBALS[$ü{0x000017}],$êÓØ[0]);$GLOBALS[$ü[0x0000018]]=KOD_USER_SHARE.$ü{0x019}.$GLOBALS[$ü{0x000017}].$ü[0x0010].$êÓØ[0].$ü[0x0010];unset($êÓØ[0]);if(!$±)return !1;$Ôƒñ=rtrim($±[$ü{0x000021}],$ü[0x0010]).$ü[0x0010].iconv_app(implode($ü[0x0010],$êÓØ));if($®[$ü[0x0000022]]!=$ü{0x001f}){$Ñ=user_home_path($®);$GLOBALS[$ü[0x00016]]=$Ñ.rtrim($±[$ü{0x000021}],$ü[0x0010]).$ü[0x0010];$¢Ö†¹ı=$Ñ.$Ôƒñ;}else{$GLOBALS[$ü[0x00016]]=$±[$ü{0x000021}];$¢Ö†¹ı=$Ôƒñ;}if($±[$ü{0x023}]==$ü[0x0024]){$GLOBALS[$ü[0x0000018]]=rtrim($GLOBALS[$ü[0x0000018]],$ü[0x0010]);$GLOBALS[$ü[0x00016]]=rtrim($GLOBALS[$ü[0x00016]],$ü[0x0010]);}$¢Ö†¹ı=iconv_system($¢Ö†¹ı);}break;default:break;}if($¢Ö†¹ı!=$ü[0x0010]){$¢Ö†¹ı=rtrim($¢Ö†¹ı,$ü[0x0010]);if(is_dir($¢Ö†¹ı))$¢Ö†¹ı=$¢Ö†¹ı.$ü[0x0010];}return $¢Ö†¹ı;ÌÉÚ¾ÌÑÔá‘ÊÃâòÍÇæÑùœ;}function _DIR_OUT($•àğÌ){$¢ú‚ì¾=&$GLOBALS{í};if(is_array($•àğÌ)){foreach($•àğÌ[$¢ú‚ì¾{0x00025}] as $‚Ä=>&$ŸÌ˜){$ŸÌ˜[$¢ú‚ì¾{0x000021}]=pre_clear($ŸÌ˜[$¢ú‚ì¾{0x000021}]);}foreach($•àğÌ[$¢ú‚ì¾[0x000026]] as $‚Ä=>&$ŸÌ˜){$ŸÌ˜[$¢ú‚ì¾{0x000021}]=pre_clear(rtrim($ŸÌ˜[$¢ú‚ì¾{0x000021}],$¢ú‚ì¾[0x0010]).$¢ú‚ì¾[0x0010]);}}else{$•àğÌ=pre_clear($•àğÌ);}return $•àğÌ;}function pre_clear($ßÌ³¨){$Ú=&$GLOBALS{í};$…¢Ğ=$GLOBALS[$Ú[0x014]];$ßˆ=rtrim($GLOBALS[$Ú[0x00016]],$Ú[0x0010]);$ùƒ‚=array(KOD_USER_FAV,KOD_GROUP_ROOT_SELF,KOD_GROUP_ROOT_ALL);ÇæÜà×şÛÚ;if(isset($GLOBALS[$Ú[0x014]])&& in_array($GLOBALS[$Ú[0x014]],$ùƒ‚)){return $ßÌ³¨;}if(ST==$Ú{0x0000027}){return str_replace($ßˆ,$Ú{0x0015},$ßÌ³¨);}if($GLOBALS[$Ú{0x000017}]!=$Ú{0x0015}){$…¢Ğ.=$Ú{0x019}.$GLOBALS[$Ú{0x000017}].$Ú[0x0010];}if(isset($GLOBALS[$Ú[0x0000018]])){$…¢Ğ=$GLOBALS[$Ú[0x0000018]];}$›ÀÌçó=$…¢Ğ.str_replace($ßˆ,$Ú{0x0015},$ßÌ³¨);$›ÀÌçó=str_replace($Ú[0x028],$Ú[0x0010],$›ÀÌçó);—ì§·Ì¯í©ñ¦¹Ÿî¡ûÏùú¬ÔçÇ–´°Š©;return $›ÀÌçó;¹«ù‡Ûè”;}function owner_group_check($«•){$¦šøÎ=&$GLOBALS{í};if(!$«•)show_json($GLOBALS[$¦šøÎ{0x0029}][$¦šøÎ[0x0002a]].$«•,!1);if($GLOBALS[$¦šøÎ[0x00000e]]||(isset($GLOBALS[$¦šøÎ{0x00002b}])&& $GLOBALS[$¦šøÎ{0x00002b}]===!0)){return;}$š¶À=system_member::user_auth_group($«•);if($š¶À==!1){if($GLOBALS[$¦šøÎ[0x014]]==KOD_GROUP_PATH){show_json($GLOBALS[$¦šøÎ{0x0029}][$¦šøÎ[0x000002c]],!1);}else if($GLOBALS[$¦šøÎ[0x014]]==KOD_GROUP_SHARE){$°¼˜†¤=$GLOBALS[$¦šøÎ{0x000001d}][$¦šøÎ[0x01e]][$¦šøÎ{0x001f}];}}else{$°¼˜†¤=$GLOBALS[$¦šøÎ{0x000001d}][$¦šøÎ{0x02d}][$š¶À];‘§„Ş¬Å˜×À ´©´º…Ùæš‚ÑŞ;}path_role_check($°¼˜†¤[$¦šøÎ[0x00020]]);†ŠÀ;}function path_role_check($úäğÓ){$ÆÂÕ =&$GLOBALS{í};if($GLOBALS[$ÆÂÕ [0x00000e]]||(isset($GLOBALS[$ÆÂÕ {0x00002b}])&& $GLOBALS[$ÆÂÕ {0x00002b}]===!0)){return;}$‘ˆ=role_permission_arr($úäğÓ);if(!isset($‘ˆ[ST.$ÆÂÕ {0x019}.ACT])){show_json($GLOBALS[$ÆÂÕ {0x0029}][$ÆÂÕ [0x002e]],!1);}}function role_permission_arr($ğ½){$»ÔÂ”=&$GLOBALS{í};$Â=array();$¸ Ğ=$GLOBALS[$»ÔÂ”{0x000001d}][$»ÔÂ”{0x0002f}];•Æ³ØÁ™Ê–¿ÛŸ¢á;foreach($ğ½ as $ÂŒÖ=>$šŸÒ){if(!$šŸÒ)continue;$Øò±Ò=explode($»ÔÂ”{0x019},$ÂŒÖ);ûïœÔ²µ Éõûè†ŸÊìâ×Ãäİ„ã¾ÜÖï¯Ñš˜Í;if(count($Øò±Ò)==0x0002&& is_array($¸ Ğ[$Øò±Ò[0]])&& is_array($¸ Ğ[$Øò±Ò[0]][$Øò±Ò[0x001]])){$Â=array_merge($Â,$¸ Ğ[$Øò±Ò[0]][$Øò±Ò[0x001]]);}}$´=array();foreach($Â as $šŸÒ){$´[$šŸÒ]=$»ÔÂ”{0x001f};}return $´;àÀïç;}function checkExt($¨){$¿ƒêó=&$GLOBALS{í};if(strstr($¨,$¿ƒêó[0x000030])|| strstr($¨,$¿ƒêó{0x0000031})|| $¨==$¿ƒêó{0x0015}){return 0;}$ö¬=$GLOBALS[$¿ƒêó[0x032]][$¿ƒêó{0x0033}];$¶=explode($¿ƒêó[0x00034],$ö¬);foreach($¶ as $§º±Á){if($§º±Á!==$¿ƒêó{0x0015} && stristr($¨,$¿ƒêó{0x000035}.$§º±Á)){return 0;}}return 0x001;‡£Šòæ’Ó§ƒ¼ˆ¿‘ËÓªóø¢¡‚Ø«á€å”Á¹”Á·š´Ÿ¬‰Ç°ÅÏï×›Ã‚½¤±¿ıİ¢ıÄ¶ÀıÊ;}function zip_pre_name($˜ü,$ÈÃº¸›=false){$Òú=&$GLOBALS{í};if(get_path_this($˜ü)==$Òú[0x0000036])return $Òú{0x0015};if(!function_exists($Òú{0x037})){return $˜ü;}$üæº=$GLOBALS[$Òú{0x000001d}][$Òú[0x0038]];if($ÈÃº¸›==!1){$ÈÃº¸›=$Òú{0x00039};$™ùÁ=get_default_lang();if(client_is_windows()&&($™ùÁ==$Òú[0x00003a] || $™ùÁ==$Òú{0x000003b} || LANGUAGE_TYPE==$Òú{0x000003b} || LANGUAGE_TYPE==$Òú{0x000003b})){$ÈÃº¸›=$Òú[0x03c];}}$À¼Ó‚=@iconv($üæº,$ÈÃº¸›,$˜ü);if(!$À¼Ó‚){$À¼Ó‚=$˜ü;}return $À¼Ó‚;}function unzip_filter_ext($½î){$Õì±=$GLOBALS{í}{0x003d};if(checkExt($½î)){return $½î;}return $½î.$Õì±;}function unzip_pre_name($ë×){$û²µœ†=&$GLOBALS{í};if(!function_exists($û²µœ†{0x037})){return unzip_filter_ext($ë×);}if(isset($GLOBALS[$û²µœ†[0x0003e]])){$ÃÔê=$GLOBALS[$û²µœ†[0x0003e]];}else{$ÃÔê=get_charset($ë×);}$®=$GLOBALS[$û²µœ†{0x000001d}][$û²µœ†[0x0038]];$Šï¼=@iconv($ÃÔê,$®,$ë×);if(!$Šï¼){$Šï¼=$ë×;}$Šï¼=unzip_filter_ext($Šï¼);return $Šï¼;}function unzip_charset_get($¿Ã){$İ§=&$GLOBALS{í};if(count($¿Ã)==0)return $İ§{0x00039};$†š=array();for($¹¿¤=0;$¹¿¤<count($¿Ã);$¹¿¤++){$Œ=get_charset($¿Ã[$¹¿¤][$İ§{0x00003f}]);“ö¥Ø‚•–ªÆ‘§ùÆÃ€÷„Ä˜‹Ş¦Ã™æè«òÑ“éåŠ¿¥Õ·ìæßæ®£æ¦¨¬¾´‹åø¥ÌâĞÀ´ãª›îºÚûà±´Í˜”µÇ¸œí;if(!isset($†š[$Œ])){$†š[$Œ]=0x001;}else{$†š[$Œ]+= 0x001;}}arsort($†š);—Ô”úáòË¢¨°ÍÃŸˆŸœéĞĞ·éå;$±ŠŸ€=array_keys($†š);©á¨¤ÃœğåÅ¡³ŠÁ;if(in_array($İ§[0x0000040],$±ŠŸ€)){$±ŠŸ€[0]=$İ§[0x0000040];}$GLOBALS[$İ§[0x0003e]]=$±ŠŸ€[0];return $±ŠŸ€[0];}function charset_check(&$¯Şã•Ì,$¶µ¬„){$¯=&$GLOBALS{í};if($¯Şã•Ì===$¯{0x0015} || !function_exists($¯{0x041})){return !1;}$Öæõú=$¯{0x00039};$“ì=@mb_convert_encoding($¯Şã•Ì,$Öæõú,$¶µ¬„);$ÅãĞ=@mb_convert_encoding($“ì,$¶µ¬„,$Öæõú);if($¯Şã•Ì==$ÅãĞ){return !0;}return !1;}function get_charset(&$ˆß){$ßÜ½=&$GLOBALS{í};if($ˆß===$ßÜ½{0x0015} || !function_exists($ßÜ½[0x0042])){return $ßÜ½{0x00039};}$ë=strtolower(@mb_detect_encoding($ˆß,$GLOBALS[$ßÜ½{0x000001d}][$ßÜ½{0x00043}]));if(substr($ˆß,0,0x0002)==chr(0xFF).chr(0xFE)|| substr($ˆß,0,0x0002)==chr(0xFE).chr(0xFF)){$ë=$ßÜ½[0x000044];}else if(substr($ˆß,0,0x00003)==chr(0xEF).chr(0xBB).chr(0xBF)){$ë=$ßÜ½{0x00039};}else if($ë==$ßÜ½{0x0000045} || $ë==$ßÜ½[0x046]){$ë=$ßÜ½[0x0000040];}else if($ë==$ßÜ½{0x0047}){$ë=$ßÜ½{0x00039};}if($ë==$ßÜ½[0x00048]){if(charset_check($ˆß,$ßÜ½{0x00039})){$ë=$ßÜ½{0x00039};}}return $ë;ª¯;}function file_upload_size(){$÷„¹ú=&$GLOBALS{í};global$config;if(isset($config[$÷„¹ú{0x000049}][$÷„¹ú[0x000004a]])){return $config[$÷„¹ú{0x000049}][$÷„¹ú[0x000004a]];}$¥¥¯=get_post_max();return $¥¥¯;á’¬¨õü«ƒ­Ö‹;}function space_size_use_check(){$Æ=&$GLOBALS{í};if(!system_space())return;if($GLOBALS[$Æ[0x00000e]]==0x001)return;if($GLOBALS[$Æ[0x014]]==KOD_GROUP_SHARE|| $GLOBALS[$Æ[0x014]]==KOD_GROUP_PATH){system_group::space_check($GLOBALS[$Æ{0x000017}]);}else{if(ST==$Æ{0x0000027}){$éµ=$GLOBALS[$Æ{0x04b}][$Æ[0x004c]];}else{$éµ=$_SESSION[$Æ{0x0001b}][$Æ[0x00001c]];}system_member::space_check($éµ);}}function space_size_use_change($¾ù™ãª,$œÇÌ®ó=true,$¥ñ¡¨Ÿ=false,$´®Ù­²=false){$Ö±²¤à=&$GLOBALS{í};if(!system_space())return;if($¥ñ¡¨Ÿ===!1){$¥ñ¡¨Ÿ=$GLOBALS[$Ö±²¤à[0x014]];$´®Ù­²=$GLOBALS[$Ö±²¤à{0x000017}];}$œÇÌ®ó=$œÇÌ®ó?0x001:-0x001;if(is_file($¾ù™ãª)){$©=get_filesize($¾ù™ãª);}else if(is_dir($¾ù™ãª)){$ıŞñÄ=_path_info_more($¾ù™ãª);$©=$ıŞñÄ[$Ö±²¤à{0x0004d}];}else{return;}if($¥ñ¡¨Ÿ==KOD_GROUP_SHARE|| $¥ñ¡¨Ÿ==KOD_GROUP_PATH){system_group::space_change($´®Ù­²,$©*$œÇÌ®ó);}else{if(ST==$Ö±²¤à{0x0000027}){$°¿ì”=$GLOBALS[$Ö±²¤à{0x04b}][$Ö±²¤à[0x004c]];}else{$°¿ì”=$_SESSION[$Ö±²¤à{0x0001b}][$Ö±²¤à[0x00001c]];}system_member::space_change($°¿ì”,$©*$œÇÌ®ó);}}function space_size_use_reset(){$ÄÖÇëğ=&$GLOBALS{í};if(!system_space())return;$™†=isset($GLOBALS[$ÄÖÇëğ[0x014]])?$GLOBALS[$ÄÖÇëğ[0x014]]:$ÄÖÇëğ{0x0015};$¯¸´=isset($GLOBALS[$ÄÖÇëğ{0x000017}])?$GLOBALS[$ÄÖÇëğ{0x000017}]:$ÄÖÇëğ{0x0015};‘™£»û¡šíæíŸ;if($™†==KOD_GROUP_SHARE|| $™†==KOD_GROUP_PATH){system_group::space_change($¯¸´);}else{$Û´=$_SESSION[$ÄÖÇëğ{0x0001b}][$ÄÖÇëğ[0x00001c]];system_member::space_change($Û´);}}function check_list_dir(){$œ‚©Ô=&$GLOBALS{í};$„­ü½=APPHOST.$œ‚©Ô[0x00004e];ñó¾•¯º·É©Ÿ¸ÉÇ”ıÚÇä Ÿ¬Œ;$‘¾÷Î =$œ‚©Ô{0x000004f};Î²¨ıíàÇ—áÈ•ß;@ini_set($œ‚©Ô[0x050],0x001);$ÅÃüñ=stream_context_create(array($œ‚©Ô{0x0051}=>array($œ‚©Ô[0x00052]=>$œ‚©Ô{0x000053},$œ‚©Ô[0x0000054]=>0x001)));áÌå°ìÀ£€Ö©Ä‹ÕÜŒÖ;$Õì=@file_get_contents($„­ü½,!1,$ÅÃüñ);½ÇÖÕÄï¢« ëÄ‘ûœ»ŠàÆà½Ò¸û©¥›¢ğ€à¸Öîœß±ÇÁ´ÆÓ°â»Ã;if(stripos($Õì,$‘¾÷Î )===!1){return !0;}else{return !1;}}function php_env_check(){$úáŸÇ=&$GLOBALS{í};$Òúšõë=$GLOBALS[$úáŸÇ{0x0029}];$¥ñÆ´=$úáŸÇ{0x0015};if(!function_exists($úáŸÇ{0x037}))$¥ñÆ´.= $úáŸÇ{0x055}.$Òúšõë[$úáŸÇ[0x0056]].$úáŸÇ{0x00057};if(!function_exists($úáŸÇ[0x000058]))$¥ñÆ´.= $úáŸÇ{0x055}.$Òúšõë[$úáŸÇ{0x0000059}].$úáŸÇ{0x00057};if(!version_compare(PHP_VERSION,$úáŸÇ[0x05a],$úáŸÇ{0x005b}))$¥ñÆ´.= $úáŸÇ{0x055}.$Òúšõë[$úáŸÇ[0x0005c]].$úáŸÇ{0x00057};if(!function_exists($úáŸÇ{0x00005d}))$¥ñÆ´.=$úáŸÇ{0x055}.$Òúšõë[$úáŸÇ[0x000005e]].$úáŸÇ{0x00057};if(!check_list_dir())$¥ñÆ´.=$úáŸÇ{0x055}.$Òúšõë[$úáŸÇ{0x05f}].$úáŸÇ{0x00057};$åÖ=get_path_father(BASIC_PATH);$‹î=array(BASIC_PATH,DATA_PATH,DATA_PATH.$úáŸÇ[0x0060],DATA_PATH.$úáŸÇ{0x00061},DATA_PATH.$úáŸÇ[0x000062],DATA_PATH.$úáŸÇ{0x0000063});‹÷•à•—‹é–İå±ÓÑÌ«÷¿ò¬Îš’¥Âº±±·î„Âæš¤;foreach($‹î as $²¯æÈ){if(!path_writeable($²¯æÈ)){$¥ñÆ´.= $úáŸÇ{0x055}.str_replace($åÖ,$úáŸÇ{0x0015},$²¯æÈ).$úáŸÇ[0x064].$Òúšõë[$úáŸÇ{0x0065}].$úáŸÇ{0x00057};}}if(!function_exists($úáŸÇ[0x00066])|| !function_exists($úáŸÇ{0x000067})|| !function_exists($úáŸÇ[0x0000068])|| !function_exists($úáŸÇ{0x069})){$¥ñÆ´.= $úáŸÇ{0x055}.$Òúšõë[$úáŸÇ[0x006a]].$úáŸÇ{0x00057};}return $¥ñÆ´;}include(CLASS_DIR.$GLOBALS{í}{0x0006b});function init_common(){$Ùæç=&$GLOBALS{í};$GLOBALS[$Ùæç{0x04b}]=parse_incoming();if(!file_exists(DATA_PATH)){show_tips($Ùæç[0x00006c]);}$‡=file_get_contents(BASIC_PATH.$Ùæç{0x000006d});$Ä=match($‡,$Ùæç[0x06e]);ûİ’®Ê”…®±‚àáéªî·¦;if($Ä!=KOD_VERSION){show_tips($Ùæç{0x006f});}$×íßï=$Ùæç[0x00070].BASIC_PATH.$Ùæç{0x000071};if(!file_exists(KOD_SESSION)|| !file_exists(KOD_SESSION.$Ùæç[0x0000072])){mk_dir(KOD_SESSION);touch(KOD_SESSION.$Ùæç[0x0000072]);if(!file_exists(KOD_SESSION.$Ùæç[0x0000072])){show_tips($×íßï);}}if(!is_writable(KOD_SESSION)|| !is_writable(KOD_SESSION.$Ùæç[0x0000072])|| !is_writable(DATA_PATH.$Ùæç{0x073})|| !is_writable(DATA_PATH)){show_tips($×íßï);}$à´ËûŒ=LIB_DIR.$Ùæç[0x0074];if(file_exists($à´ËûŒ)){if(!is_writable($à´ËûŒ)){show_tips($×íßï);}include($à´ËûŒ);update_check($à´ËûŒ);öêé”€öš®©œ‹†»ú¾áÍ–;del_file($à´ËûŒ);Å»;if(file_exists($à´ËûŒ)){show_tips($×íßï);}user_logout();}}function init_session(){$ÃŠ¹=&$GLOBALS{í};if(isset($_GET[$ÃŠ¹{0x00075}])){access_token_check($_GET[$ÃŠ¹{0x00075}]);}else{@session_name(SESSION_ID);}if(class_exists($ÃŠ¹[0x000076])|| defined($ÃŠ¹{0x0000077})|| isset($_SERVER[$ÃŠ¹[0x078]])){}else{@session_save_path(KOD_SESSION);}@session_start();@session_write_close();åÒÉ€‚óœ’€£Îûâ±Éø‚÷€Çˆ¼Ù”…´ûì…Î¾ë¡‰ë£ü‰¶ü­†ø;}function access_token_check($‹‚Ä){$˜öÍ=&$GLOBALS{í};$ÛØÌ=$GLOBALS[$˜öÍ{0x000001d}][$˜öÍ{0x0079}][$˜öÍ[0x0007a]];$ÛØÌ=substr(md5($˜öÍ{0x00007b}.$ÛØÌ),0,0x0f);¤øƒÅ‚îé€ø ;$¦¦ö·Ş=Mcrypt::decode($‹‚Ä,$ÛØÌ);if(!$¦¦ö·Ş){show_tips($˜öÍ[0x000007c]);}session_id($¦¦ö·Ş);}function access_token_get(){$¹=&$GLOBALS{í};$¼–=session_id();ˆêŸ˜¢Õš‘¿›Šà˜±ˆèæ;$«€Ã=$GLOBALS[$¹{0x000001d}][$¹{0x0079}][$¹[0x0007a]];;$«€Ã=substr(md5($¹{0x00007b}.$«€Ã),0,0x0f);$ô=Mcrypt::encode($¼–,$«€Ã,0x0e10*0x0000018);return $ô;}function init_config(){init_setting();init_lang();init_user_setting();í¨â÷Šûª’“ùØ¾ù¹•Ê§´¿Â¶ÓûÈ€Ø°ÈÆÙ«¿ã¨éõµüğ¼ë¬ö;init_session();ş‚ë¶ÕçşÖÁ°ŸˆŠËÈîó²å;}function need_check_code(){$ÂåäÄ°=&$GLOBALS{í};$°Ö=$GLOBALS[$ÂåäÄ°{0x000001d}][$ÂåäÄ°{0x0079}];if(!$°Ö[$ÂåäÄ°{0x07d}]|| !function_exists($ÂåäÄ°[0x00066])|| !function_exists($ÂåäÄ°{0x000067})|| !function_exists($ÂåäÄ°[0x0000068])|| !function_exists($ÂåäÄ°{0x069})){return !1;}else{return !0;}}function get_default_lang(){$š=&$GLOBALS{í};$í°=$š[0x007e];$æşÂæ=$GLOBALS[$š{0x000001d}][$š{0x0007f}][$š[0x000080]];öŒ¢;$Ô’·=array();foreach($æşÂæ as $á¸Î›§=>$){$Ô’·[$á¸Î›§]=$á¸Î›§;}$Ô’·[$š{0x0000081}]=$š[0x00003a];ÄâİÉİá°´åÈ¬ñëïÇı¨Ï;$Ô’·[$š[0x082]]=$š{0x000003b};Å¦;$×¨=array();if(!isset($_SERVER[$š{0x0083}])){$Úò=$š[0x00084];}else{$Úò=str_replace($š{0x000085},$š[0x0000086],strtolower($_SERVER[$š{0x0083}]));}preg_match_all($š{0x087},$Úò,$½Ğ“ˆ®,PREG_SET_ORDER);foreach($½Ğ“ˆ® as $¹ãÚƒ){$×¨[$¹ãÚƒ[0x001]]=(isset($¹ãÚƒ[0x00003])?$¹ãÚƒ[0x00003]:0x001);–;}arsort($×¨);å³ï«Ù¡„ƒß³İÓ§œ¤»¥Ó°ß·‹âÇÙÒÈïÁğÖ;foreach($×¨ as $á¸Î›§=>$¤Ç){if(isset($Ô’·[$á¸Î›§])){$í°=$Ô’·[$á¸Î›§];break;}$á¸Î›§=preg_replace($š[0x0088],$š{0x0015},$á¸Î›§);if(!isset($×¨[$á¸Î›§])&& isset($Ô’·[$á¸Î›§])){$í°=$Ô’·[$á¸Î›§];break;}}return $í°;×‚ÊŒà³ıÂî£– ƒÎ¬æ–†ºßõüĞÍ¥õ•øôşÑ÷ÉİÙç’×«‚ûÂ¢€‘Îç¨Õ¢ˆËŸÙšÄÏ¯¾Å¯¾øî˜áğ„íĞ¦îáõÖ‹Ëù”;}function init_lang(){$¼Ì=&$GLOBALS{í};if(isset($_COOKIE[$¼Ì{0x00089}])){$²ß¾â=$_COOKIE[$¼Ì{0x00089}];}else{$²ß¾â=get_default_lang();setcookie_header($¼Ì{0x00089},$²ß¾â,time()+0x0e10*0x0000018*0x064);}$²ß¾â=str_replace(array($¼Ì[0x0010],$¼Ì{0x0f},$¼Ì[0x00008a],$¼Ì{0x000035}),$¼Ì{0x0015},$²ß¾â);if(isset($GLOBALS[$¼Ì{0x000001d}][$¼Ì{0x000049}][$¼Ì[0x000080]])){$²ß¾â=$GLOBALS[$¼Ì{0x000001d}][$¼Ì{0x000049}][$¼Ì[0x000080]];}if($²ß¾â==$¼Ì{0x000008b})$²ß¾â=$¼Ì[0x00003a];if($²ß¾â==$¼Ì[0x08c])$²ß¾â=$¼Ì{0x000003b};$’=LANGUAGE_PATH.$²ß¾â.$¼Ì{0x008d};if(!file_exists($’)){$²ß¾â=$¼Ì[0x00084];$’=LANGUAGE_PATH.$²ß¾â.$¼Ì{0x008d};}define($¼Ì[0x0008e],$²ß¾â);$GLOBALS[$¼Ì{0x0029}]=include($’);Ûí Íú;}function make_path($«¯Â){$ÙÀºİû=&$GLOBALS{í};$º=array($ÙÀºİû[0x0010],$ÙÀºİû{0x0f},$ÙÀºİû{0x019},$ÙÀºİû{0x00008f},$ÙÀºİû[0x0000090],$ÙÀºİû{0x091},$ÙÀºİû[0x000030],$ÙÀºİû{0x0000031},$ÙÀºİû[0x00034]);return str_replace($º,$ÙÀºİû{0x000085},$«¯Â);˜½Ù÷ü¼–‚ÏÆÅÚä¢È†ïÄ«­‘;}function init_setting(){$ãÕ™=&$GLOBALS{í};$ÛËğ=USER_SYSTEM.$ãÕ™[0x0092];ë‡‰ƒŠØÉÏ´¯ñ;$¶âÂá=$GLOBALS[$ãÕ™{0x000001d}][$ãÕ™{0x00093}];–•Ç’Ş¤ŞĞ˜é…ñ¦‰û€ÒËµƒ½³¹¡öœ±ËöœâŒäõë‰Õ¼¡¿Ù§±°®‚„ú·‡¸êÁÙáİŒ®Ô¨;if(!file_exists($ÛËğ)){$á=$¶âÂá;fileCache::save($ÛËğ,$á);}else{$á=fileCache::load($ÛËğ);}foreach($¶âÂá as $ˆ=>$–İ‹¸){if(!isset($á[$ˆ])){$á[$ˆ]=$–İ‹¸;}}$GLOBALS[$ãÕ™[0x000094]]->setDefaultController($á[$ãÕ™{0x0000095}]);$GLOBALS[$ãÕ™[0x000094]]->setDefaultAction($ãÕ™[0x096]);æşé”ù¡œ²İï¼š’Â°óĞ¹Âç—Í µ³…›’„…§ş¦Ã²³¢¿¤ßÚÃñ;$GLOBALS[$ãÕ™{0x000001d}][$ãÕ™{0x0079}]=$á;®©×Åöøú«ùÆ†Ë´…ñø·¦œ÷ËûÓíñ„Ôá²ş¹øõ²ô¡­õç»ü´ğƒ§é»Í‡´™ƒˆ©ñú­ÇÜßÆ—Ø½ÊÍŞ÷ÄÇ;$Âû¤=USER_SYSTEM.$ãÕ™{0x0097};ƒñ—·Œ;$Àµ=$GLOBALS[$ãÕ™{0x000001d}][$ãÕ™[0x01e]];if(!file_exists($Âû¤)){fileCache::save($Âû¤,$Àµ);}else{$Àµ=fileCache::load($Âû¤);}$GLOBALS[$ãÕ™{0x000001d}][$ãÕ™{0x02d}]=$Àµ;}function init_user_setting(){$¼ô’=&$GLOBALS{í};$GLOBALS[$¼ô’{0x0029}][$¼ô’[0x00098]]=$GLOBALS[$¼ô’{0x000001d}][$¼ô’{0x0079}][$¼ô’{0x000099}];Úúëºó±‚¨óşÍ;$GLOBALS[$¼ô’{0x0029}][$¼ô’[0x000009a]]=$GLOBALS[$¼ô’{0x000001d}][$¼ô’{0x0079}][$¼ô’{0x09b}];if(isset($İ¾[$¼ô’[0x009c]])){$GLOBALS[$¼ô’{0x0029}][$¼ô’{0x0009d}]=$GLOBALS[$¼ô’{0x000001d}][$¼ô’{0x0079}][$¼ô’[0x009c]];}$£·Ø=BASIC_PATH.$¼ô’[0x00009e];if(file_exists($£·Ø)){include($£·Ø);}define($¼ô’{0x000009f},$GLOBALS[$¼ô’{0x000001d}][$¼ô’{0x000049}][$¼ô’[0x0a0]]);}function user_logout(){$ŸÚ =&$GLOBALS{í};@session_destroy();@session_name($ŸÚ {0x00a1});@session_start();§­¼ªÖ;@session_destroy();setcookie(SESSION_ID,$ŸÚ {0x0015},time()-0x0e10,$ŸÚ [0x0010]);setcookie($ŸÚ [0x00098],$ŸÚ {0x0015},time()-0x0e10);setcookie($ŸÚ [0x000a2],$ŸÚ {0x0015},time()-0x0e10);ªä;header($ŸÚ {0x0000a3});‰Ùá;exit;}function hash_encode($™¿){$ÊÄ‡=&$GLOBALS{í};return str_replace(base64_encode($™¿),array($ÊÄ‡[0x00000a4],$ÊÄ‡[0x0010],$ÊÄ‡{0x0a5}),array($ÊÄ‡[0x00a6],$ÊÄ‡{0x000a7},$ÊÄ‡[0x0000a8]));}function hash_decode($×¸šü¥){$™×=&$GLOBALS{í};return base64_decode(str_replace($×¸šü¥,array($™×[0x00a6],$™×{0x000a7},$™×[0x0000a8]),array($™×[0x00000a4],$™×[0x0010],$™×{0x0a5})));Î÷ñÖË¸;}